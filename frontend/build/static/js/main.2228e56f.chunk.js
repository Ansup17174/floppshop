(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},43:function(e,t,s){},63:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(1),n=s.n(c),i=s(34),r=s.n(i),l=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,70)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),n(e),i(e)}))},o=(s(43),s(7)),d=s.n(o),j=s(13),u=s(2),m=s(5),b=s(4),h=Object(c.createContext)({userData:{},setUserData:function(e){}}),p=s(35),O=s.n(p).a.create({baseURL:"https://floppshop.herokuapp.com/"}),f=s(14),x=(s(63),function(){var e=Object(c.useContext)(h),t=e.userData,s=e.reloadUserData,n=Object(c.useState)(!1),i=Object(u.a)(n,2),r=i[0],l=i[1],o=Object(m.f)(),p=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/logout/",e.next=3,O.post("auth/logout/",{},{withCredentials:!0}).then((function(e){s(),o.push("/logout")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"nav-wrapper",children:Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)(b.b,{to:"/",className:"logo",onClick:function(){return l(!1)},children:Object(a.jsx)("div",{children:"FloppShop"})}),Object(a.jsxs)("ul",{className:"nav-links".concat(r?"":" not-displayed"),children:[t.is_staff&&Object(a.jsx)(b.b,{to:"/admin-panel",className:"nav-item",onClick:function(){return l(!1)},children:Object(a.jsx)("li",{children:"Admin panel"})}),t.pk&&Object(a.jsx)(b.b,{to:"/order-history",className:"nav-item",onClick:function(){return l(!1)},children:Object(a.jsx)("li",{children:"History"})}),t.pk&&Object(a.jsx)(b.b,{to:"/order",className:"nav-item",onClick:function(){return l(!1)},children:Object(a.jsx)("li",{children:"Order"})}),t.pk&&Object(a.jsx)(b.b,{to:"/profile",className:"nav-item",onClick:function(){return l(!1)},children:Object(a.jsx)("li",{children:"Profile"})}),t.pk&&Object(a.jsx)(b.b,{to:"/change-password",className:"nav-item",onClick:function(){return l(!1)},children:Object(a.jsx)("li",{children:"Change password"})}),Object(a.jsx)(b.b,{to:"/register",className:"nav-item",onClick:function(){return l(!1)},children:Object(a.jsx)("li",{children:"Register"})}),t.pk?Object(a.jsx)("div",{className:"nav-item",onClick:p,children:"Logout"}):Object(a.jsx)(b.b,{to:"/login",className:"nav-item",onClick:function(){return l(!1)},children:Object(a.jsx)("li",{children:"Log in"})})]}),Object(a.jsx)("div",{className:"nav-button",onClick:function(){return l(!r)},children:r?Object(a.jsx)(f.d,{}):Object(a.jsx)(f.a,{})})]})})}),v=s(3),N=function(e){var t=e.items;return Object(a.jsx)("div",{className:"item-list",children:t.length?t.map((function(e,t){return Object(a.jsx)(b.b,{to:"/item-details/".concat(e.id),children:Object(a.jsxs)("div",{className:"item",children:[Object(a.jsx)("img",{src:e.images.length>0?e.images[0].url:"https://i.stack.imgur.com/y9DpT.jpg",alt:"",className:"item-image"}),Object(a.jsxs)("div",{className:"item-info",children:[Object(a.jsx)("div",{className:"item-name",children:e.name}),Object(a.jsxs)("div",{className:"item-quantity",children:["In-stock: ",e.quantity]}),Object(a.jsxs)("div",{className:"item-price-container",children:[e.is_discount&&Object(a.jsxs)("div",{className:"item-old-price",children:[e.old_price,"z\u0142"]}),Object(a.jsxs)("div",{className:e.is_discount?"item-discount-price":"item-price",children:[e.price,"z\u0142"]}),e.is_available&&e.quantity>0?Object(a.jsx)("div",{className:"item-is-available",children:"Available"}):Object(a.jsx)("div",{className:"item-not-available",children:"Not available"})]})]},t)]},t)})})):Object(a.jsx)("div",{className:"item-error",children:"No items found"})})},g=(s(32),function(){var e=Object(c.useState)({text:"",minPrice:0,maxPrice:0,orderBy:""}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)(1),r=Object(u.a)(i,2),l=r[0],o=r[1],m=Object(c.useState)(1),b=Object(u.a)(m,2),h=b[0],p=b[1],x=Object(c.useState)([]),g=Object(u.a)(x,2),y=g[0],w=g[1],_=Object(c.useState)(!1),C=Object(u.a)(_,2),S=C[0],k=C[1],D=function(e){o(e>0&&e<=h?Number.parseInt(e):1)},q=function(){var e="shop/items/?limit=10&offset=".concat(10*(l-1)),t={search:s.text,min_price:s.minPrice,max_price:s.maxPrice,order_by:s.orderBy};O.get(e,{params:t}).then((function(e){w(e.data.results),p(Math.floor((e.data.count-1)/10)+1)}))},P=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),q();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){q()}),[l]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"filter".concat(S?"":" not-displayed"),children:Object(a.jsxs)("form",{className:"filter-form",onSubmit:P,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Filter by"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"searchText",children:"Search by text:"}),Object(a.jsx)("input",{id:"searchText",className:"filter-form-input",type:"text",maxLength:"100",size:"25",autoComplete:"off",value:s.text,onChange:function(e){n(Object(v.a)(Object(v.a)({},s),{},{text:e.target.value}))}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"min-price",children:"Price:"}),Object(a.jsx)("input",{id:"min-price",className:"filter-form-input filter-form-number",type:"number",size:"2",min:"0",value:s.minPrice,onChange:function(e){n(Object(v.a)(Object(v.a)({},s),{},{minPrice:e.target.value}))}}),"-",Object(a.jsx)("input",{id:"max-price",className:"filter-form-input filter-form-number",type:"number",size:"2",min:"0",value:s.maxPrice,onChange:function(e){n(Object(v.a)(Object(v.a)({},s),{},{maxPrice:e.target.value}))}})]})]}),Object(a.jsx)("input",{className:"filter-form-submit",type:"submit",value:"Filter",onClick:function(){return k(!1)}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Order by"}),Object(a.jsx)("label",{children:"Price:"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"radio",className:"filter-form-radio",name:"price",id:"price1",value:"+",onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{orderBy:e.target.value}))}}),Object(a.jsx)("label",{htmlFor:"price1",children:"Ascending"}),Object(a.jsx)("input",{type:"radio",className:"filter-form-radio",name:"price",id:"price2",value:"-",onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{orderBy:e.target.value}))}}),Object(a.jsx)("label",{htmlFor:"price2",children:"Descending"})]})]}),Object(a.jsxs)("div",{className:"not-displayed",children:[Object(a.jsx)("div",{children:Object(a.jsxs)("h3",{children:["Page: ",Object(a.jsx)("input",{type:"number",className:"filter-form-input filter-form-number",value:l,onFocus:function(e){return e.target.select()},onBlur:function(e){return D(e.target.value)}})," of ",h]})}),Object(a.jsxs)("div",{children:[1!==l&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return D(l-1)},children:"<"}),l!==h&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return D(l+1)},children:">"})]})]})]})}),Object(a.jsx)("div",{className:"filter-arrow",onClick:function(){return k(!S)},children:S?Object(a.jsx)(f.b,{}):Object(a.jsx)(f.c,{})}),Object(a.jsxs)("div",{className:"pages",children:[Object(a.jsx)("span",{className:"blue-button".concat(1!==l?"":" hidden"),onClick:function(){return D(l-1)},children:"<"}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("input",{type:"number",className:"filter-form-input page-input",value:l,onFocus:function(e){return e.target.select()},onChange:function(e){return D(e.target.value)}})," of ",h]}),Object(a.jsx)("span",{className:"blue-button".concat(l!==h?"":" hidden"),onClick:function(){return D(l+1)},children:">"})]}),Object(a.jsx)(N,{items:y})]})}),y=function(){return Object(a.jsx)("div",{className:"main-text",children:Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Page not found!"})})})},w=function(){var e=Object(c.useState)("text"),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)({email:"",firstName:"",lastName:"",phone:"",dateOfBirth:"",password1:"",password2:"",responseOk:!1,responseLoading:!1}),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)({}),j=Object(u.a)(d,2),m=j[0],b=j[1];return Object(a.jsx)("div",{className:"scrollable-page",children:Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),o(Object(v.a)(Object(v.a)({},l),{},{responseOk:!1,responseLoading:!0})),b({});O.post("auth/registration/",{email:l.email,first_name:l.firstName,last_name:l.lastName,phone:l.phone,date_of_birth:l.dateOfBirth,password1:l.password1,password2:l.password2}).then((function(e){o(Object(v.a)(Object(v.a)({},l),{},{responseOk:!0,responseLoading:!1})),b({})})).catch((function(e){o(Object(v.a)(Object(v.a)({},l),{},{responseOk:!1,responseLoading:!1})),b(e.response.data)}))},children:[Object(a.jsx)("h1",{children:"Registration"}),l.responseOk?Object(a.jsx)("div",{className:"form-success",children:"Verification e-mail sent"}):null,l.responseLoading?Object(a.jsx)("div",{className:"form-loading",children:"Sending..."}):null,Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"email",className:"form-input",id:"email",value:l.email,placeholder:"E-mail",onChange:function(e){return o(Object(v.a)(Object(v.a)({},l),{},{email:e.target.value}))}}),m.email?m.email.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"text",className:"form-input",value:l.firstName,placeholder:"First name",onChange:function(e){return o(Object(v.a)(Object(v.a)({},l),{},{firstName:e.target.value}))}}),m.first_name?m.first_name.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"text",className:"form-input",value:l.lastName,placeholder:"Last name",onChange:function(e){return o(Object(v.a)(Object(v.a)({},l),{},{lastName:e.target.value}))}}),m.last_name?m.last_name.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"text",className:"form-input",value:l.phone,placeholder:"Phone number",onChange:function(e){return o(Object(v.a)(Object(v.a)({},l),{},{phone:e.target.value}))}}),m.phone?m.phone.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:s,className:"form-input",value:l.dateOfBirth,placeholder:"Date of birth",onFocus:function(){return n("date")},onBlur:function(){return n("text")},onChange:function(e){return o(Object(v.a)(Object(v.a)({},l),{},{dateOfBirth:e.target.value}))}}),m.date_of_birth?m.date_of_birth.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",value:l.password1,placeholder:"Password",onChange:function(e){return o(Object(v.a)(Object(v.a)({},l),{},{password1:e.target.value}))}}),m.password1?m.password1.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",value:l.password2,placeholder:"Password again",onChange:function(e){return o(Object(v.a)(Object(v.a)({},l),{},{password2:e.target.value}))}}),m.password2?m.password2.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null,m.non_field_errors?m.non_field_errors.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})):null]}),Object(a.jsx)("input",{className:"form-button form-input",type:"submit",value:"Register"})]})})})},_=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)({}),r=Object(u.a)(i,2),l=r[0],o=r[1],p=Object(m.f)(),f=Object(c.useContext)(h).reloadUserData,x=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"auth/login/",e.next=4,O.post("auth/login/",{email:s.email,password:s.password},{withCredentials:!0}).then((function(e){o({}),f(),p.push("/")})).catch((function(e){o(e.response.data)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"small-form",onSubmit:x,children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"email",className:"form-input",placeholder:"E-mail",value:s.email,onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{email:e.target.value}))}}),l.email&&l.email.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",placeholder:"Password",value:s.password,onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{password:e.target.value}))}}),l.password&&l.password.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})),l.non_field_errors&&l.non_field_errors.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsx)(b.b,{to:"reset-password",children:Object(a.jsx)("div",{className:"form-link",children:"Forgot password?"})}),Object(a.jsx)("input",{type:"submit",className:"form-button form-input",value:"Log in"})]})})},C=function(){return Object(a.jsx)("div",{className:"main-text",children:Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Succesfully logged out"})})})},S=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(m.g)().key;return Object(c.useEffect)((function(){O.post("auth/registration/verify-email/",{key:i}).then((function(e){console.log(e.data),n(!0)})).catch((function(e){console.log(e.response.data),n(!1)}))}),[]),Object(a.jsx)("h1",{className:"main-text",children:s?"E-mail confirmed succesfully":"Activation link invalid"})},k=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)({}),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)("text"),x=Object(u.a)(f,2),N=x[0],g=x[1],y=Object(c.useContext)(h),w=y.userData,_=y.reloadUserData,C=Object(m.f)();Object(c.useEffect)((function(){O.get("auth/user/",{withCredentials:!0}).then((function(e){n(e.data)})).catch((function(e){_(),C.push("/login")}))}),[]);return Object(a.jsx)("div",{className:"scrollable-page",children:Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),_();O.put("auth/user/",s,{withCredentials:!0}).then((function(e){p(!0),o({})})).catch((function(e){401===e.response.status&&(_(),C.push("/login")),p(!1),o(e.response.data)}))},children:[Object(a.jsx)("h1",{children:"Profile info"}),b&&Object(a.jsx)("div",{className:"form-success",children:"Profile saved"}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsxs)("div",{className:"form-input",children:["Id: ",s.pk]})}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsxs)("div",{className:"form-input",children:["E-mail: ",s.email]})}),w.is_staff&&Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("div",{className:"form-input",children:"Is Admin: True"})}),Object(a.jsxs)("div",{className:"form-field",children:["First name: ",Object(a.jsx)("input",{type:"text",className:"form-input",value:s.first_name,placeholder:"First name",onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{first_name:e.target.value}))}}),l.first_name&&l.first_name.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Last name: ",Object(a.jsx)("input",{type:"text",className:"form-input",value:s.last_name,placeholder:"Last name",onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{last_name:e.target.value}))}}),l.last_name&&l.last_name.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Phone: ",Object(a.jsx)("input",{type:"text",className:"form-input",value:s.phone,placeholder:"Phone number",onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{phone:e.target.value}))}}),l.phone&&l.phone.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Date of birth: ",Object(a.jsx)("input",{type:N,className:"form-input",value:s.date_of_birth,placeholder:"Date of birth",onFocus:function(){return g("date")},onBlur:function(){return g("text")},onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{date_of_birth:e.target.value}))}}),l.date_of_birth&&l.date_of_birth.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsx)("div",{className:"form-field",children:l.non_field_errors&&l.non_field_errors.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))}),Object(a.jsx)("input",{className:"form-button form-input",type:"submit",value:"Save profile"})]})})})},D=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)(""),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(""),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)(!1),x=Object(u.a)(f,2),v=x[0],N=x[1],g=Object(c.useState)({}),y=Object(u.a)(g,2),w=y[0],_=y[1],C=Object(c.useContext)(h).reloadUserData,S=Object(m.f)();return Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"small-form",onSubmit:function(e){e.preventDefault();var t={old_password:s,new_password1:l,new_password2:b};O.post("auth/password/change/",t,{withCredentials:!0}).then((function(e){N(!0),_({})})).catch((function(e){401===e.response.status&&(C(),S.push("/login")),_(e.response.data),N(!1)}))},children:[Object(a.jsx)("h1",{children:"Change password"}),v&&Object(a.jsx)("div",{className:"form-success",children:"Password changed"}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",placeholder:"Old password",value:s,onChange:function(e){return n(e.target.value)}}),w.old_password&&w.old_password.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",placeholder:"New Password",value:l,onChange:function(e){return o(e.target.value)}}),w.new_password1&&w.new_password1.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",placeholder:"New password again",value:b,onChange:function(e){return p(e.target.value)}}),w.new_password2&&w.new_password2.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})),w.non_field_errors&&w.non_field_errors.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsx)("input",{type:"submit",className:"form-button form-input",value:"Change password"})]})})},q=function(){var e=Object(c.useState)({name:"",description:"",quantity:"",price:0,images:[]}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)("https://i.stack.imgur.com/y9DpT.jpg"),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useContext)(h).reloadUserData,j=Object(c.useState)(1),b=Object(u.a)(j,2),p=b[0],f=b[1],x=Object(c.useState)(!1),v=Object(u.a)(x,2),N=v[0],g=v[1],y=Object(c.useState)({}),w=Object(u.a)(y,2),_=w[0],C=w[1],S=Object(m.g)().id,k=Object(m.f)();Object(c.useEffect)((function(){var e="shop/items/".concat(S,"/");O.get(e).then((function(e){n(e.data),e.data.images.length>0&&o(e.data.images[0].url)})).catch((function(e){k.push("/not-found")}))}),[]);return Object(a.jsx)("div",{className:"scrollable-page",children:Object(a.jsxs)("div",{className:"item-details",children:[Object(a.jsxs)("div",{className:"item-details-images",children:[Object(a.jsx)("img",{src:l,alt:"item",className:"item-details-image"}),Object(a.jsx)("div",{className:"item-details-small-images",children:s.images.length>1&&s.images.map((function(e,t){return Object(a.jsx)("img",{src:e.url,alt:"item-small",className:"item-details-small-image",onClick:function(e){return o(e.target.src)}},t)}))})]}),Object(a.jsx)("div",{className:"item-details-line not-displayed"}),Object(a.jsxs)("div",{className:"item-details-info",children:[Object(a.jsx)("div",{className:"item-details-name",children:s.name}),Object(a.jsx)("div",{className:"item-details-description",children:s.description}),Object(a.jsxs)("div",{className:"item-details-bottom",children:[Object(a.jsxs)("div",{className:"item-quantity",children:["In-stock: ",s.quantity]}),s.is_discount&&Object(a.jsxs)("span",{className:"item-old-price",children:[s.old_price,"zl"]}),Object(a.jsxs)("span",{className:s.is_discount?"item-discount-price":"item-price",children:[s.price,"zl"]}),s.is_discount&&Object(a.jsx)("h4",{className:"on-discount",children:"ON DISCOUNT!"})]}),s.is_available&&s.quantity>0?Object(a.jsxs)("form",{className:"quantity-form",onSubmit:function(e){e.preventDefault(),d();var t="shop/items/".concat(S,"/");O.post(t,{},{withCredentials:!0,params:{quantity:p}}).then((function(e){g(e.data),C({})})).catch((function(e){401===e.response.status&&k.push("/login"),g({}),C(e.response.data)}))},children:[Object(a.jsxs)("div",{className:"quantity-data",children:[Object(a.jsx)("div",{className:"item-quantity",children:"Quantity: "}),Object(a.jsxs)("div",{className:"quantity-buttons",children:[Object(a.jsx)("div",{onClick:function(){p>1&&f(p-1)},className:"sign-box",children:"-"}),Object(a.jsx)("input",{type:"number",className:"quantity-input",value:p,onChange:function(e){e.target.value>0&&e.target.value<=s.quantity?f(Number.parseInt(e.target.value)):e.target.value>s.quantity?f(s.quantity):f(1)}}),Object(a.jsx)("div",{onClick:function(){p<s.quantity&&f(p+1)},className:"sign-box",children:"+"})]})]}),Object(a.jsx)("input",{type:"submit",value:"Add to cart",className:"add-to-cart"}),N.detail&&Object(a.jsx)("div",{className:"quantity-success",children:N.detail}),_.detail&&Object(a.jsx)("div",{className:"quantity-fail",children:_.detail})]}):Object(a.jsx)("div",{className:"add-to-cart-unavailable",children:"Item unavailable"})]})]})})},P=function(e){var t=e.order;return Object(a.jsx)(a.Fragment,{children:t.id?Object(a.jsxs)("div",{className:"gray-container",children:[Object(a.jsx)("h1",{children:"Active order"}),Object(a.jsxs)("div",{className:"data-container",children:[Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Order ID: "}),Object(a.jsx)("span",{children:t.id})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Quantity: "}),Object(a.jsx)("span",{children:t.quantity})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Total price: "}),Object(a.jsxs)("span",{children:[t.total_price,"z\u0142"]})]})]})]}):Object(a.jsx)("div",{className:"gray-container",children:Object(a.jsx)("h1",{children:"No active order"})})})},I=(s(33),function(){var e=Object(c.useState)({id:"",carts:[],address:"",method:{},total_price:"",is_finished:!1,is_paid:!1,date_created:"",date_finished:"",date_paid:"",quantity:0}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)({}),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(m.f)(),j=Object(c.useContext)(h).reloadUserData;Object(c.useEffect)((function(){O.get("shop/order/",{withCredentials:!0}).then((function(e){n(e.data)})).catch((function(e){401===e.response.status&&(j(),d.push("/login")),n(e.response.data)}))}),[]);var p=function(e,t){var s="shop/items/".concat(e,"/");O.post(s,{},{withCredentials:!0,params:{quantity:t}}).then((function(e){204===e.status?n({}):O.get("shop/order/",{withCredentials:!0}).then((function(e){o({}),n(e.data)}))})).catch((function(e){401===e.response.status&&(j(),d.push("/login")),o(e.response.data)}))};return Object(a.jsxs)("div",{className:"scrollable-page",children:[Object(a.jsx)(P,{order:s}),s.id?Object(a.jsxs)("div",{className:"gray-container",children:[Object(a.jsx)("h1",{children:"Items"}),s.carts.sort((function(e,t){return e.item.name<t.item.name?-1:e.item.name>t.item.name?1:0})).map((function(e,t){return Object(a.jsxs)("div",{className:"order-item",children:[Object(a.jsx)("img",{src:e.item.images.length?e.item.images[0].url:"https://i.stack.imgur.com/y9DpT.jpg",alt:"",className:"item-image"}),Object(a.jsx)("h2",{className:"item-header",children:e.item.name}),Object(a.jsx)("div",{className:"item-description",children:e.item.description}),Object(a.jsxs)("div",{children:[e.item.is_discount&&Object(a.jsxs)("div",{className:"item-old-price",children:[e.item.old_price,"z\u0142"]}),Object(a.jsxs)("div",{className:e.item.is_discount?"item-discount-price":"item-price",children:[e.item.price,"z\u0142"]})]}),Object(a.jsxs)("h3",{children:["Total price: ",e.total_price,"z\u0142"]}),Object(a.jsx)("form",{className:"quantity-form",children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"quantity-data",children:[Object(a.jsx)("div",{className:"item-quantity",children:"Quantity: "}),Object(a.jsxs)("div",{className:"quantity-buttons",children:[Object(a.jsx)("div",{className:"sign-box",onClick:function(){return p(e.item.id,-1)},children:"-"}),Object(a.jsx)("span",{className:"cart-quantity",children:e.quantity}),Object(a.jsx)("div",{className:"sign-box",onClick:function(){return p(e.item.id,1)},children:"+"})]})]})})})]},t)})),l.detail&&Object(a.jsx)("div",{className:"form-error",children:l.detail}),Object(a.jsx)("div",{className:"checkout",children:Object(a.jsx)(b.b,{to:"/checkout",children:Object(a.jsx)("div",{className:"checkout-button",children:"Go to checkout >"})})})]}):null]})}),F=function(){var e=Object(c.useState)({street:"",number:"",state:"",post_code:"",city:"",method:""}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)({id:"",carts:[],address:"",method:{},total_price:"",is_finished:!1,is_paid:!1,date_created:"",date_finished:"",date_paid:"",quantity:0}),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)([]),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)(""),x=Object(u.a)(f,2),N=x[0],g=x[1],y=Object(c.useState)({}),w=Object(u.a)(y,2),_=w[0],C=w[1],S=Object(c.useState)(),k=Object(u.a)(S,2),D=k[0],q=k[1],I=Object(c.useState)(!1),F=Object(u.a)(I,2),E=F[0],U=F[1],z=Object(c.useContext)(h),T=(z.userData,z.reloadUserData),B=Object(m.f)();Object(c.useEffect)((function(){O.get("shop/order/",{withCredentials:!0}).then((function(e){o(e.data)})).catch((function(e){401===e.response.status&&(T(),B.push("/login")),B.push("/not-found")}))}),[]),Object(c.useEffect)((function(){O.get("shop/methods/").then((function(e){p(e.data)}))}),[]),Object(c.useEffect)((function(){easyPack.init({}),easyPack.dropdownWidget("easypack-map",(function(e){var t=e.address_details;n({street:t.street,number:t.building_number,state:t.province,post_code:t.post_code,city:t.city})}))}),[]),Object(c.useEffect)((function(){var e=document.getElementById("easypack-map");"InPost"===D?(e.classList.remove("hidden"),U(!0),n({street:"",number:"",state:"",post_code:"",city:"",method:""})):(e.classList.add("hidden"),U(!1))}),[D]);return Object(a.jsxs)("div",{className:"scrollable-page",children:[Object(a.jsx)(P,{order:l}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"shipping",children:[Object(a.jsxs)("form",{className:"shipping-form",children:[Object(a.jsx)("h1",{children:"Address:"}),Object(a.jsx)("input",{type:"text",placeholder:"Street",className:"form-input",readOnly:E,value:s.street,onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{street:e.target.value}))}}),_.street&&Object(a.jsx)("div",{className:"form-error",children:_.street[0]}),Object(a.jsx)("input",{type:"text",placeholder:"Number",className:"form-input",readOnly:E,value:s.number,onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{number:e.target.value}))}}),_.number&&Object(a.jsx)("div",{className:"form-error",children:_.number[0]}),Object(a.jsx)("input",{type:"text",placeholder:"Post Code",className:"form-input",readOnly:E,value:s.post_code,onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{post_code:e.target.value}))}}),_.post_code&&Object(a.jsx)("div",{className:"form-error",children:_.post_code[0]}),Object(a.jsx)("input",{type:"text",placeholder:"State",className:"form-input",readOnly:E,value:s.state,onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{state:e.target.value}))}}),_.state&&Object(a.jsx)("div",{className:"form-error",children:_.state[0]}),Object(a.jsx)("input",{type:"text",placeholder:"City",className:"form-input",readOnly:E,value:s.city,onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{city:e.target.value}))}}),_.city&&Object(a.jsx)("div",{className:"form-error",children:_.city[0]})]}),Object(a.jsxs)("div",{className:"shipping-method",children:[Object(a.jsx)("h1",{children:"Shipping method: "}),Object(a.jsx)("div",{className:"inpost-dropdown",children:Object(a.jsx)("div",{id:"easypack-map"})}),Object(a.jsxs)("select",{name:"method",id:"method",className:"shipping-method-select",value:D,onChange:function(e){return q(e.target.value)},children:[Object(a.jsx)("option",{value:null,selected:"true",disabled:!0,children:"-"}),b.length&&b.map((function(e,t){return Object(a.jsxs)("option",{value:e.name,children:[e.name," - ",e.price,"z\u0142"]},t)}))]}),!N&&Object(a.jsx)("div",{className:"checkout-button",onClick:function(){O.post("shop/order/",Object(v.a)(Object(v.a)({},s),{},{method:D}),{withCredentials:!0}).then((function(e){O.post("shop/payment/".concat(l.id,"/"),{},{withCredentials:!0}).then((function(e){console.log(e.data),g(e.data.redirectUri)})).catch((function(e){console.log(e.response.data)}))})).catch((function(e){401===e.response.status?(T(),B.push("/login")):404===e.response.status&&B.push("/order"),C(e.response.data)}))},children:"Submit order"}),N&&Object(a.jsx)("a",{href:N,target:"_blank",rel:"noreferrer",children:Object(a.jsx)("div",{className:"order-details blue-button",children:"Redirect to payment"})}),_.detail&&Object(a.jsx)("div",{className:"form-error",children:"Choose shipping method"})]})]})})]})},E=function(e){var t=e.order,s=e.selectOrder;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"gray-container data-link",onClick:function(){return s(t)},children:Object(a.jsxs)("div",{className:"data-container",children:[Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Order ID: "}),Object(a.jsx)("span",{children:t.id})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Total price: "}),Object(a.jsxs)("span",{children:[t.total_price,"z\u0142"]})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Quantity: "}),Object(a.jsx)("span",{children:t.quantity})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Date finished: "}),Object(a.jsx)("span",{children:t.date_finished})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Shipping method: "}),Object(a.jsx)("span",{children:t.method.name})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Shipping price: "}),Object(a.jsxs)("span",{children:[t.method.price,"z\u0142"]})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Status: "}),Object(a.jsx)("span",{children:t.is_paid?"Paid":"Unpaid"})]}),t.is_paid&&Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Date paid: "}),Object(a.jsx)("span",{children:t.date_paid})]})]})})})},U=function(e){var t=e.order,s=e.selectOrder;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"gray-container",children:Object(a.jsxs)("div",{className:"data-container",children:[Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"blue-button go-back",onClick:function(){return s({})},children:"Go back"})}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Order ID: "}),Object(a.jsx)("span",{children:t.id})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Total price: "}),Object(a.jsxs)("span",{children:[t.total_price,"z\u0142"]})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Quantity: "}),Object(a.jsx)("span",{children:t.quantity})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Date finished: "}),Object(a.jsx)("span",{children:t.date_finished})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Shipping method: "}),Object(a.jsx)("span",{children:t.method.name})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Shipping price: "}),Object(a.jsx)("span",{children:t.method.price})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Status: "}),Object(a.jsx)("span",{children:t.is_paid?"Paid":"Unpaid"})]}),t.is_paid&&Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Date paid: "}),Object(a.jsx)("span",{children:t.date_paid})]})]})}),Object(a.jsx)("div",{className:"gray-container",children:t.carts.map((function(e,t){return Object(a.jsxs)("div",{className:"order-item",children:[Object(a.jsx)("img",{src:e.item.images.length?e.item.images[0].url:"https://i.stack.imgur.com/y9DpT.jpg",alt:"",className:"item-image"}),Object(a.jsx)("h2",{className:"item-header",children:e.item.name}),Object(a.jsx)("div",{className:"item-description",children:e.item.description}),Object(a.jsxs)("div",{className:"item-price",children:[e.item.price,"z\u0142"]}),Object(a.jsxs)("h3",{children:["Total price: ",e.total_price,"z\u0142"]}),Object(a.jsx)("form",{className:"quantity-form",children:Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"quantity-data",children:Object(a.jsxs)("div",{className:"item-quantity",children:["Quantity: ",e.quantity]})})})})]},t)}))})]})},z=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)([]),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useContext)(h).reloadUserData,j=Object(c.useState)(1),b=Object(u.a)(j,2),p=b[0],f=b[1],x=Object(c.useState)(1),v=Object(u.a)(x,2),N=v[0],g=v[1],y=Object(m.f)(),w=function(e){f(e>0&&e<=N?Number.parseInt(e):1)};return Object(c.useEffect)((function(){O.get("shop/order/?history&limit=10&offset=".concat(10*(p-1)),{withCredentials:!0}).then((function(e){o(e.data.results),g(Math.floor((e.data.count-1)/10)+1)})).catch((function(e){401===e.response.status&&(d(),y.push("/login"))}))}),[p]),Object(a.jsxs)("div",{className:"scrollable-page",children:[!s.id&&Object(a.jsxs)("div",{className:"gray-container",children:[l.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Order history"}),Object(a.jsxs)("h3",{children:["Page: ",Object(a.jsx)("input",{type:"number",className:"filter-form-input page-input white",value:p,onChange:function(e){return w(e.target.value)}})," of ",N]}),Object(a.jsxs)("div",{className:"page-buttons",children:[1!==p&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return w(p-1)},children:"<"}),p!==N&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return w(p+1)},children:">"})]})]}),!l.length>0&&Object(a.jsx)("h1",{children:"No orders"})]}),l.length>0&&!s.id&&l.map((function(e,t){return Object(a.jsx)(E,{order:e,selectOrder:n},t)})),s.id&&Object(a.jsx)(U,{order:s,selectOrder:n})]})},T=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)(!1),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)({}),j=Object(u.a)(d,2),m=j[0],b=j[1];return Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"small-form",onSubmit:function(e){e.preventDefault(),O.post("auth/password/reset/",{email:s}).then((function(e){b({}),o(!0)})).catch((function(e){o(!1),b(e.response.data)}))},children:[Object(a.jsx)("h1",{children:"Reset password"}),l&&Object(a.jsx)("div",{className:"form-success",children:"Password reset e-mail sent"}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"email",className:"form-input",placeholder:"E-mail",value:s,onChange:function(e){return n(e.target.value)}}),m.email&&m.email.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})),m.non_field_errors&&m.non_field_errors.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsx)("input",{type:"submit",className:"form-button form-input",value:"Reset"})]})})},B=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)({}),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],p=Object(c.useState)(""),f=Object(u.a)(p,2),x=f[0],v=f[1],N=Object(m.g)(),g=N.uid,y=N.token;return Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"small-form",onSubmit:function(e){e.preventDefault();O.post("auth/password/reset/confirm/",{uid:g,token:y,new_password1:b,new_password2:x}).then((function(e){n(!0),o({})})).catch((function(e){n(!1),o(e.response.data)}))},children:[Object(a.jsx)("h1",{children:"Set new password"}),s&&Object(a.jsx)("div",{className:"form-success",children:"New password set"}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",placeholder:"New password",value:b,onChange:function(e){return h(e.target.value)}}),l.new_password1&&l.new_password1.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("input",{type:"password",className:"form-input",placeholder:"New password again",value:x,onChange:function(e){return v(e.target.value)}}),l.new_password2&&l.new_password2.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})),l.non_field_errors&&l.non_field_errors.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)})),l.token&&l.token.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsx)("input",{type:"submit",className:"form-button form-input",value:"Set password"})]})})},L=(s(12),function(){var e=Object(c.useContext)(h).reloadUserData,t=Object(m.f)();return Object(c.useEffect)((function(){O.get("auth/user/",{withCredentials:!0}).then((function(s){s.data.is_staff||(e(),t.push("/not-found"))})).catch((function(s){e(),t.push("/login")}))}),[]),Object(a.jsxs)("div",{className:"scrollable-page",children:[Object(a.jsxs)("div",{className:"admin-panel",children:[Object(a.jsx)("h1",{children:"Items:"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(b.b,{to:"/admin-items",children:Object(a.jsx)("div",{className:"blue-button",children:"View items"})}),Object(a.jsx)(b.b,{to:"/admin-item-create",children:Object(a.jsx)("div",{className:"blue-button",children:"Add item"})})]})]}),Object(a.jsxs)("div",{className:"admin-panel",children:[Object(a.jsx)("h1",{children:"Shipping methods:"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(b.b,{to:"/admin-shippings",children:Object(a.jsx)("div",{className:"blue-button",children:"View shipping methods"})}),Object(a.jsx)(b.b,{to:"/admin-create-shipping",children:Object(a.jsx)("div",{className:"blue-button",children:"Add shipping method"})})]})]}),Object(a.jsxs)("div",{className:"admin-panel",children:[Object(a.jsx)("h1",{children:"PayU notifications:"}),Object(a.jsx)(b.b,{to:"/admin-notification-list",children:Object(a.jsx)("div",{className:"blue-button",children:"View notifications"})})]})]})}),A=function(e){var t=e.items;return Object(a.jsx)("div",{className:"item-list",children:t.length?t.map((function(e,t){return Object(a.jsx)(b.b,{to:"/admin-item-details/".concat(e.id),children:Object(a.jsxs)("div",{className:"item",children:[Object(a.jsx)("img",{src:e.images.length>0?e.images[0].url:"https://i.stack.imgur.com/y9DpT.jpg",alt:"",className:"item-image"}),Object(a.jsxs)("div",{className:"item-info",children:[Object(a.jsx)("div",{className:"item-name",children:e.name}),Object(a.jsxs)("div",{className:"item-quantity",children:["In-stock: ",e.quantity]}),Object(a.jsxs)("div",{className:"item-price-container",children:[e.is_discount&&Object(a.jsxs)("div",{className:"item-old-price",children:[e.old_price,"z\u0142"]}),Object(a.jsxs)("div",{className:e.is_discount?"item-discount-price":"item-price",children:[e.price,"z\u0142"]}),e.is_available&&e.quantity>0?Object(a.jsx)("div",{className:"item-is-available",children:"Available"}):Object(a.jsx)("div",{className:"item-not-available",children:"Not available"})]})]},t)]},t)})})):Object(a.jsx)("div",{className:"item-error",children:"No items found"})})},Q=function(){var e=Object(c.useState)({text:"",minPrice:0,maxPrice:0,orderBy:""}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)(1),r=Object(u.a)(i,2),l=r[0],o=r[1],b=Object(c.useState)(1),p=Object(u.a)(b,2),x=p[0],N=p[1],g=Object(c.useState)([]),y=Object(u.a)(g,2),w=y[0],_=y[1],C=Object(c.useState)(!1),S=Object(u.a)(C,2),k=S[0],D=S[1],q=Object(m.f)(),P=Object(c.useContext)(h).reloadUserData,I=function(e){o(e>0&&e<=x?Number.parseInt(e):1)},F=function(){var e="shop/admin/items/?limit=10&offset=".concat(10*(l-1)),t={search:s.text,min_price:s.minPrice,max_price:s.maxPrice,order_by:s.orderBy};O.get(e,{withCredentials:!0,params:t}).then((function(e){_(e.data.results),N(Math.floor((e.data.count-1)/10)+1)})).catch((function(e){403===e.response.status&&(P(),q.push("/not-found")),console.log(e.response),console.log(e.status)}))},E=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),F();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){F()}),[l]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"filter".concat(k?"":" not-displayed"),children:Object(a.jsxs)("form",{className:"filter-form",onSubmit:E,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Filter by"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"searchText",children:"Search by text:"}),Object(a.jsx)("input",{id:"searchText",className:"filter-form-input",type:"text",maxLength:"100",size:"25",autoComplete:"off",value:s.text,onChange:function(e){n(Object(v.a)(Object(v.a)({},s),{},{text:e.target.value}))}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"min-price",children:"Price:"}),Object(a.jsx)("input",{id:"min-price",className:"filter-form-input filter-form-number",type:"number",size:"2",min:"0",value:s.minPrice,onChange:function(e){n(Object(v.a)(Object(v.a)({},s),{},{minPrice:e.target.value}))}}),"-",Object(a.jsx)("input",{id:"max-price",className:"filter-form-input filter-form-number",type:"number",size:"2",min:"0",value:s.maxPrice,onChange:function(e){n(Object(v.a)(Object(v.a)({},s),{},{maxPrice:e.target.value}))}})]})]}),Object(a.jsx)("input",{className:"filter-form-submit",type:"submit",value:"Filter",onClick:function(){return D(!1)}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Order by"}),Object(a.jsx)("label",{children:"Price:"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"radio",className:"filter-form-radio",name:"price",id:"price1",value:"+",onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{orderBy:e.target.value}))}}),Object(a.jsx)("label",{htmlFor:"price1",children:"Ascending"}),Object(a.jsx)("input",{type:"radio",className:"filter-form-radio",name:"price",id:"price2",value:"-",onChange:function(e){return n(Object(v.a)(Object(v.a)({},s),{},{orderBy:e.target.value}))}}),Object(a.jsx)("label",{htmlFor:"price2",children:"Descending"})]})]}),Object(a.jsxs)("div",{className:"not-displayed",children:[Object(a.jsx)("div",{children:Object(a.jsxs)("h3",{children:["Page: ",Object(a.jsx)("input",{type:"number",className:"filter-form-input filter-form-number",value:l,onFocus:function(e){return e.target.select()},onBlur:function(e){return I(e.target.value)}})," of ",x]})}),Object(a.jsxs)("div",{children:[1!==l&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return I(l-1)},children:"<"}),l!==x&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return I(l+1)},children:">"})]})]})]})}),Object(a.jsx)("div",{className:"filter-arrow",onClick:function(){return D(!k)},children:k?Object(a.jsx)(f.b,{}):Object(a.jsx)(f.c,{})}),Object(a.jsxs)("div",{className:"pages",children:[Object(a.jsx)("span",{className:"blue-button".concat(1!==l?"":" hidden"),onClick:function(){return I(l-1)},children:"<"}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("input",{type:"number",className:"filter-form-input page-input",value:l,onFocus:function(e){return e.target.select()},onChange:function(e){return I(e.target.value)}})," of ",x]}),Object(a.jsx)("span",{className:"blue-button".concat(l!==x?"":" hidden"),onClick:function(){return I(l+1)},children:">"})]}),Object(a.jsx)(A,{items:w})]})},R=function(){var e=Object(c.useState)({name:"",description:"",quantity:"",price:0,images:[]}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)("https://i.stack.imgur.com/y9DpT.jpg"),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useContext)(h).reloadUserData,j=Object(c.useState)(1),p=Object(u.a)(j,2),f=p[0],x=p[1],v=Object(c.useState)(!1),N=Object(u.a)(v,2),g=N[0],y=N[1],w=Object(c.useState)({}),_=Object(u.a)(w,2),C=_[0],S=_[1],k=Object(m.g)().id,D=Object(m.f)();Object(c.useEffect)((function(){var e="shop/admin/items/".concat(k,"/");O.get(e,{withCredentials:!0}).then((function(e){n(e.data),e.data.images.length>0&&o(e.data.images[0].url)})).catch((function(e){403===e.response.status&&d(),D.push("/not-found")}))}),[]);return Object(a.jsx)("div",{className:"scrollable-page",children:Object(a.jsxs)("div",{className:"item-details",children:[Object(a.jsxs)("div",{className:"item-details-images",children:[Object(a.jsx)("img",{src:l,alt:"item",className:"item-details-image"}),Object(a.jsx)("div",{className:"item-details-small-images",children:s.images.length>1&&s.images.map((function(e,t){return Object(a.jsx)("img",{src:e.url,alt:"item-small",className:"item-details-small-image",onClick:function(e){return o(e.target.src)}},t)}))}),Object(a.jsx)(b.b,{to:"/admin-edit-item-images/".concat(k),children:Object(a.jsx)("div",{className:"blue-button",children:"Edit images"})})]}),Object(a.jsx)("div",{className:"item-details-line not-displayed"}),Object(a.jsxs)("div",{className:"item-details-info",children:[Object(a.jsx)("div",{className:"item-details-name",children:s.name}),Object(a.jsx)("div",{className:"item-details-description",children:s.description}),Object(a.jsxs)("div",{className:"item-details-bottom",children:[Object(a.jsxs)("div",{className:"item-quantity",children:["In-stock: ",s.quantity]}),s.is_discount&&Object(a.jsxs)("span",{className:"item-old-price",children:[s.old_price,"zl"]}),Object(a.jsxs)("span",{className:s.is_discount?"item-discount-price":"item-price",children:[s.price,"zl"]}),s.is_discount&&Object(a.jsx)("h4",{className:"on-discount",children:"ON DISCOUNT!"})]}),s.is_available&&s.quantity>0?Object(a.jsxs)("form",{className:"quantity-form",onSubmit:function(e){e.preventDefault(),d();var t="shop/items/".concat(k,"/");O.post(t,{},{withCredentials:!0,params:{quantity:f}}).then((function(e){y(e.data),S({})})).catch((function(e){401===e.response.status&&D.push("/login"),y({}),S(e.response.data)}))},children:[Object(a.jsxs)("div",{className:"quantity-data",children:[Object(a.jsx)("div",{className:"item-quantity",children:"Quantity: "}),Object(a.jsxs)("div",{className:"quantity-buttons",children:[Object(a.jsx)("div",{onClick:function(){f>0&&x(f-1)},className:"sign-box",children:"-"}),Object(a.jsx)("input",{type:"number",className:"quantity-input",value:f,onChange:function(e){e.target.value>0?x(Number.parseInt(e.target.value)):x(1)}}),Object(a.jsx)("div",{onClick:function(){x(f+1)},className:"sign-box",children:"+"})]})]}),Object(a.jsx)("input",{type:"submit",value:"Add to cart",className:"add-to-cart"}),g.detail&&Object(a.jsx)("div",{className:"quantity-success",children:g.detail}),C.detail&&Object(a.jsx)("div",{className:"quantity-fail",children:C.detail})]}):Object(a.jsx)("div",{className:"add-to-cart-unavailable",children:"Item unavailable"}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(b.b,{to:"/admin-edit-item/".concat(k),children:Object(a.jsx)("div",{className:"blue-button",children:"Edit item"})}),Object(a.jsx)(b.b,{to:"/admin-delete-item/".concat(k),children:Object(a.jsx)("div",{className:"delete-button",children:"Delete item"})})]})]})]})})},M=function(e){var t=e.item,s=e.setItem,c=e.errors,n=e.responseOk,i=e.handleSubmit;return Object(a.jsx)("div",{className:"scrollable-page",children:Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"form",onSubmit:i,children:[Object(a.jsx)("h1",{children:"Item form"}),n&&Object(a.jsx)("div",{className:"form-success",children:"Item saved"}),Object(a.jsxs)("div",{className:"form-field",children:["Name:",Object(a.jsx)("input",{type:"text",className:"form-input",placeholder:"Name",value:t.name,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{name:e.target.value}))}}),c.name&&c.name.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Description:",Object(a.jsx)("input",{type:"text",className:"form-input",placeholder:"Description",value:t.description,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{description:e.target.value}))}}),c.description&&c.description.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Quantity:",Object(a.jsx)("input",{type:"number",className:"form-input",placeholder:"Quantity",value:t.quantity,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{quantity:e.target.value}))}}),c.quantity&&c.quantity.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Price:",Object(a.jsx)("input",{type:"number",step:"0.01",className:"form-input",placeholder:"Price",value:t.price,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{price:e.target.value}))}}),c.price&&c.price.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Old price (shown on discount):",Object(a.jsx)("input",{type:"number",step:"0.01",className:"form-input",placeholder:"Old price (shown on discount)",value:t.old_price,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{old_price:e.target.value}))}}),c.old_price&&c.old_price.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"checkbox-field",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"checkbox",checked:t.is_discount,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{is_discount:!t.is_discount}))}}),Object(a.jsx)("span",{children:" Is discount"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"checkbox",checked:t.is_available,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{is_available:!t.is_available}))}}),Object(a.jsx)("span",{children:" Is available"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"checkbox",checked:t.is_visible,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{is_visible:!t.is_visible}))}}),Object(a.jsx)("span",{children:" Is visible"})]})]}),Object(a.jsx)("input",{type:"submit",className:"form-button form-input",value:"Save"})]})})})},V=function(){var e=Object(m.g)().id,t=Object(c.useState)({name:"",description:"",price:0,quantity:0,is_discount:!1,old_price:0,is_visible:!1,is_available:!1}),s=Object(u.a)(t,2),n=s[0],i=s[1],r=Object(c.useState)({}),l=Object(u.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(u.a)(j,2),p=b[0],f=b[1],x=Object(c.useContext)(h).reloadUserData,v=Object(m.f)();Object(c.useEffect)((function(){O.get("shop/admin/items/".concat(e,"/"),{withCredentials:!0}).then((function(e){i(e.data)})).catch((function(e){403===e.response.status?(x(),v.push("/not-found")):401===e.response.status?(x(),v.push("/login")):v.push("/not-found")}))}),[]);return Object(a.jsx)(M,{item:n,setItem:i,errors:o,responseOk:p,handleSubmit:function(t){t.preventDefault(),console.log(),O.put("shop/admin/items/".concat(e,"/"),n,{withCredentials:!0}).then((function(e){f(!0),d({})})).catch((function(e){403===e.response.status?(x(),v.push("/not-found")):401===e.response.status?(x(),v.push("/login")):(d(e.response.data),f(!1))}))}})},G=function(){var e=Object(c.useState)({name:"",description:"",price:0,quantity:0,is_discount:!1,old_price:0,is_visible:!1,is_available:!1}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)({}),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(m.f)(),x=Object(c.useContext)(h).reloadUserData;Object(c.useEffect)((function(){O.get("auth/user/",{withCredentials:!0}).then((function(e){e.data.is_staff||(x(),f.push("not-found"))})).catch((function(e){401===e.response.status&&(x(),f.push("/login"))}))}),[]);return Object(a.jsx)(M,{item:s,setItem:n,errors:l,responseOk:b,handleSubmit:function(e){e.preventDefault(),O.post("shop/admin/items/",s,{withCredentials:!0}).then((function(e){var t=e.data.id;o({}),p(!0),f.push("/admin-item-details/".concat(t))})).catch((function(e){403===e.response.status?(x(),f.push("/not-found")):401===e.response.status?(x(),f.push("/login")):(p(!1),o(e.response.data))}))}})},J=function(){var e=Object(m.g)().id,t=Object(m.f)(),s=Object(c.useContext)(h).reloadUserData,n=Object(c.useState)(!1),i=Object(u.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){O.delete("shop/admin/items/".concat(e,"/"),{withCredentials:!0}).then((function(e){l(!0)})).catch((function(e){403===e.response.status?(s(),t.push("/not-found")):401===e.response.status?(s(),t.push("/login")):404===e.response.status?t.push("/not-found"):l(!1)}))}),[]),Object(a.jsx)("div",{className:"main-text",children:Object(a.jsxs)("div",{children:[r?Object(a.jsx)("h2",{children:"Item deleted succesfully"}):Object(a.jsx)("h3",{children:"Cannot delete item (Item is linked to other models such as users' orders)"}),Object(a.jsx)(b.b,{to:"/admin-items",children:Object(a.jsx)("div",{className:"blue-button",children:"Go back to items"})})]})})},Y=s(37),H=function(){var e=Object(m.g)().id,t=Object(m.f)(),s=Object(c.useContext)(h).reloadUserData,n=Object(c.useState)([]),i=Object(u.a)(n,2),r=i[0],l=i[1],o=Object(c.useRef)(),d=Object(c.useState)(!1),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)({}),x=Object(u.a)(f,2),v=x[0],N=x[1],g=function(e){O.get("shop/admin/items/".concat(e,"/"),{withCredentials:!0}).then((function(e){l(e.data.images)})).catch((function(e){403===e.response.status?(s(),t.push("/not-found")):401===e.response.status?(s(),t.push("/login")):t.push("/not-found")}))};Object(c.useEffect)((function(){g(e)}),[]);return Object(a.jsx)("div",{className:"scrollable-page",children:Object(a.jsxs)("div",{className:"gray-container",children:[Object(a.jsx)("h1",{children:"Edit images"}),Object(a.jsx)("div",{className:"images",children:r.map((function(c,n){return Object(a.jsxs)("div",{className:"image-ordering",children:[Object(a.jsx)("img",{src:c.url,alt:"item",className:"edit-image"},n),Object(a.jsxs)("div",{children:[!c.is_main&&Object(a.jsx)("div",{className:"blue-button",onClick:function(){return a=c.id,void O.put("shop/admin/items/images/".concat(a,"/"),{},{withCredentials:!0}).then((function(t){g(e)})).catch((function(e){403===e.response.status?(s(),t.push("/not-found")):401===e.response.status?(s(),t.push("/login")):N(e.response.data)}));var a},children:"Set as main"}),c.is_main&&Object(a.jsx)("div",{className:"main-image-info",children:"Main"}),Object(a.jsx)("div",{className:"delete-button",onClick:function(){return a=c.id,void O.delete("shop/admin/items/images/".concat(a,"/"),{withCredentials:!0}).then((function(t){g(e),p(!1)})).catch((function(e){403===e.response.status?(s(),t.push("/not-found")):401===e.response.status?(s(),t.push("/login")):N(e.response.data)}));var a},children:"Delete"})]})]},n)}))}),Object(a.jsxs)("div",{className:"image-save",children:[b&&Object(a.jsxs)("div",{className:"form-success",children:[o.current.files.length," images saved"]}),Object(a.jsxs)("div",{className:"image-form",children:["Add images:",Object(a.jsx)("input",{type:"file",multiple:!0,ref:o}),Object(a.jsx)("div",{className:"blue-button",onClick:function(a){a.preventDefault();var c=o.current.files;if(c.length){var n=new FormData;Object(Y.a)(c).forEach((function(e){return n.append("images",e)})),O.patch("shop/admin/items/".concat(e,"/"),n,{withCredentials:!0,headers:{"content-type":"multipart/form-data"}}).then((function(t){p(!0),N({}),g(e)})).catch((function(e){403===e.response.status?(s(),t.push("/not-found")):401===e.response.status?(s(),t.push("/login")):N(e.response.data)}))}else p(!1),N({detail:"You must upload at least 1 image"})},children:"Save images"}),v.detail&&Object(a.jsx)("div",{className:"form-error",children:v.detail})]})]})]})})},W=function(e){var t=e.shipping,s=e.setShipping,c=e.errors,n=e.responseOk,i=e.handleSubmit;return Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)("form",{className:"small-form",onSubmit:i,children:[Object(a.jsx)("h1",{children:"Shipping method"}),n&&Object(a.jsx)("div",{className:"form-success",children:"Shipping method saved"}),Object(a.jsxs)("div",{className:"form-field",children:["Name:",Object(a.jsx)("input",{type:"text",className:"form-input",placeholder:"Name",value:t.name,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{name:e.target.value}))}}),c.name&&c.name.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{className:"form-field",children:["Price:",Object(a.jsx)("input",{type:"number",className:"form-input",step:"0.01",placeholder:"Price",value:t.price,onChange:function(e){return s(Object(v.a)(Object(v.a)({},t),{},{price:e.target.value}))}}),c.price&&c.price.map((function(e,t){return Object(a.jsx)("div",{className:"form-error",children:e},t)}))]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"checkbox",checked:t.is_available,onChange:function(){return s(Object(v.a)(Object(v.a)({},t),{},{is_available:!t.is_available}))}}),Object(a.jsx)("span",{children:" Is available"})]}),Object(a.jsx)("input",{type:"submit",className:"form-button form-input"})]})})},K=function(){var e=Object(c.useState)({name:"",price:0,is_available:!1}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)(!1),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)({}),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(m.f)(),x=Object(c.useContext)(h).reloadUserData;return Object(a.jsx)(W,{shipping:s,setShipping:n,errors:b,responseOk:l,handleSubmit:function(e){e.preventDefault(),O.post("shop/admin/shipping-method/",s,{withCredentials:!0}).then((function(e){p({}),o(!0)})).catch((function(e){403===e.response.status?(x(),f.push("/not-found")):401===e.response.status?(x(),f.push("/login")):(o(!1),p(e.response.data))}))}})},X=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useContext)(h).reloadUserData,r=Object(m.f)();return Object(c.useEffect)((function(){O.get("shop/admin/shipping-method",{withCredentials:!0}).then((function(e){n(e.data)})).catch((function(e){403===e.response.status?(i(),r.push("/not-found")):401===e.response.status&&(i(),r.push("/login"))}))}),[]),Object(a.jsxs)("div",{className:"scrollable-page",children:[Object(a.jsx)("div",{className:"gray-container",children:s.length?Object(a.jsx)("h1",{children:"Shipping methods"}):Object(a.jsx)("h1",{children:"No shipping methods"})}),s.map((function(e,t){return Object(a.jsx)(b.b,{to:"/admin-edit-shipping/".concat(e.id,"/"),className:"gray-container data-link",children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"data-container",children:[Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Name: "}),Object(a.jsx)("span",{children:e.name})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Price: "}),Object(a.jsxs)("span",{children:[e.price,"z\u0142"]})]}),Object(a.jsxs)("div",{className:"data-row",children:[Object(a.jsx)("span",{children:"Is available: "}),Object(a.jsx)("span",{children:e.is_available?"Yes":"No"})]})]})},t)})}))]})},Z=function(){var e=Object(c.useState)({name:"",price:0,is_available:!1}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)(!1),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)({}),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(m.f)(),x=Object(c.useContext)(h).reloadUserData,v=Object(m.g)().id;Object(c.useEffect)((function(){O.get("shop/admin/shipping-method/".concat(v,"/"),{withCredentials:!0}).then((function(e){n(e.data)})).catch((function(e){403===e.response.status?(x(),f.push("/not-found")):401===e.response.status?(x(),f.push("/login")):f.push("/not-found")}))}),[]);return Object(a.jsx)(W,{shipping:s,setShipping:n,errors:b,responseOk:l,handleSubmit:function(e){e.preventDefault(),O.put("shop/admin/shipping-method/".concat(v,"/"),s,{withCredentials:!0}).then((function(e){p({}),o(!0)})).catch((function(e){403===e.response.status?(x(),f.push("/not-found")):401===e.response.status?(x(),f.push("/login")):(o(!1),p(e.response.data))}))}})},$=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)(1),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(1),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(m.f)(),x=Object(c.useContext)(h).reloadUserData;Object(c.useEffect)((function(){O.get("shop/admin/notifications/?limit=10&offset=".concat(10*(l-1)),{withCredentials:!0}).then((function(e){n(e.data.results),p(Math.floor((e.data.count-1)/10)+1)})).catch((function(e){403===e.response.status?(x(),f.push("/not-found")):401===e.response.status&&(x(),f.push("/login"))}))}),[l]);var v=function(e){o(e>0&&e<=b?Number.parseInt(e):1)};return Object(a.jsx)("div",{className:"scrollable-page",children:Object(a.jsxs)("div",{className:"gray-container",children:[s.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Notifications"}),Object(a.jsxs)("h3",{children:["Page: ",Object(a.jsx)("input",{type:"number",className:"filter-form-input page-input white",value:l,onChange:function(e){return v(e.target.value)}})," of ",b]}),Object(a.jsxs)("div",{className:"page-buttons",children:[1!==l&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return v(l-1)},children:"<"}),l!==b&&Object(a.jsx)("span",{className:"blue-button",onClick:function(){return v(l+1)},children:">"})]})]}),s.map((function(e,t){return Object(a.jsx)("div",{className:"gray-container",children:e.content},t)})),!s.length>0&&Object(a.jsx)("h1",{children:"No notifications"})]})})},ee=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),s=t[0],n=t[1],i=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("auth/user/",{withCredentials:!0}).then((function(e){n(e.data)})).catch((function(e){n({})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(a.jsx)(b.a,{children:Object(a.jsxs)(h.Provider,{value:{userData:s,reloadUserData:i},children:[Object(a.jsx)("div",{className:"nav-wrapper",children:Object(a.jsx)(x,{})}),Object(a.jsx)("div",{className:"page",children:Object(a.jsxs)(m.c,{children:[Object(a.jsx)(m.a,{path:"/",component:g,exact:!0}),Object(a.jsx)(m.a,{path:"/item-details/:id",component:q,exact:!0}),Object(a.jsx)(m.a,{path:"/order",component:I,exact:!0}),Object(a.jsx)(m.a,{path:"/order-history",component:z,exact:!0}),Object(a.jsx)(m.a,{path:"/checkout",component:F,exact:!0}),Object(a.jsx)(m.a,{path:"/verify-email/:key",component:S,exact:!0}),Object(a.jsx)(m.a,{path:"/register",component:w,exact:!0}),Object(a.jsx)(m.a,{path:"/login",component:_,exact:!0}),Object(a.jsx)(m.a,{path:"/logout",component:C,exact:!0}),Object(a.jsx)(m.a,{path:"/profile",component:k,exact:!0}),Object(a.jsx)(m.a,{path:"/change-password",component:D,exact:!0}),Object(a.jsx)(m.a,{path:"/reset-password",component:T,exact:!0}),Object(a.jsx)(m.a,{path:"/reset/:uid/:token/",component:B,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-panel",component:L,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-items",component:Q,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-item-details/:id",component:R,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-item-create",component:G,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-edit-item/:id",component:V,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-edit-item-images/:id",component:H,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-delete-item/:id",component:J,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-create-shipping",component:K,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-edit-shipping/:id",component:Z,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-shippings",component:X,exact:!0}),Object(a.jsx)(m.a,{path:"/admin-notification-list",component:$,exact:!0}),Object(a.jsx)(m.a,{path:"*",component:y})]})})]})})};r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(ee,{})}),document.getElementById("root")),l()}},[[69,1,2]]]);
//# sourceMappingURL=main.2228e56f.chunk.js.map